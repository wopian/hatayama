machine:
    node:
        version: stable

general:
    artifacts:
        - coverage

dependencies:
    cache_directories:
        - node_modules
        - app/vendor
        - app/styles/vendor
    pre:
        - npm i -g gulp
    override:
        - npm update && npm prune && gulp build:tidy

test:
    pre:
        - gulp lint

deployment:
    production:
        branch: master
        heroku:
            appname: hatayama