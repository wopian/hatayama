general:
    artifacts:
        - coverage

dependencies:
    cache_directories:
        - node_modules
        - app/vendor
        - app/styles/vendor
    override:
        - npm prune && npm i --save-dev && npm i -g gulp

test:
    override:
        - gulp lint && npm test && gulp build:tidy

deployment:
    production:
        branch: master
        commands:
            - lftp -c "open -u $FTP_USER,$FTP_PASSWORD ftp.bobstudios.org; set ssl:verify-certificate no; mirror -R ~/clone/ /hatayama/"